{"ast":null,"code":"import { ADDED, ALLCOMPLETED, CLEARCOMPLETED, COLORSELECTED, DELETED, LOADED, TOGGLED, UPDATETITLE } from \"./actionTypes\";\nimport initialState from \"./initialState\";\n\nconst nextTodoId = todos => {\n  const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\n  return maxId + 1;\n};\n\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOADED:\n      return action.payload;\n\n    case ADDED:\n      return [...state, {\n        id: nextTodoId(state),\n        text: action.payload,\n        completed: false\n      }];\n\n    case TOGGLED:\n      return state.map(todo => {\n        if (todo.id !== action.payload) {\n          return todo;\n        }\n\n        return { ...todo,\n          completed: !todo.completed\n        };\n      });\n\n    case COLORSELECTED:\n      const {\n        todoId,\n        color\n      } = action.payload;\n      return state.map(todo => {\n        if (todo.id !== todoId) {\n          return todo;\n        }\n\n        return { ...todo,\n          color: color\n        };\n      });\n\n    case UPDATETITLE:\n      return state.map(todo => {\n        const {\n          todoId,\n          titleText\n        } = action.payload;\n\n        if (todo.id === todoId) {\n          return todo;\n        }\n\n        ;\n        return { ...todo,\n          text: titleText\n        };\n      });\n\n    case DELETED:\n      return state.filter(todo => todo.id !== action.payload);\n\n    case ALLCOMPLETED:\n      return state.map(todo => {\n        return { ...todo,\n          completed: true\n        };\n      });\n\n    case CLEARCOMPLETED:\n      return state.filter(todo => !todo.completed);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/linux/learn with sumit/4/think-in-a-redux-way/client/src/redux/todos/reducer.js"],"names":["ADDED","ALLCOMPLETED","CLEARCOMPLETED","COLORSELECTED","DELETED","LOADED","TOGGLED","UPDATETITLE","initialState","nextTodoId","todos","maxId","reduce","todo","Math","max","id","reducer","state","action","type","payload","text","completed","map","todoId","color","titleText","filter"],"mappings":"AAAA,SACIA,KADJ,EAEIC,YAFJ,EAGIC,cAHJ,EAIIC,aAJJ,EAKIC,OALJ,EAOIC,MAPJ,EASIC,OATJ,EAUIC,WAVJ,QAWO,eAXP;AAYA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC1B,QAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa,CAACD,KAAD,EAAQE,IAAR,KAAiBC,IAAI,CAACC,GAAL,CAASF,IAAI,CAACG,EAAd,EAAkBL,KAAlB,CAA9B,EAAwD,CAAC,CAAzD,CAAd;AACA,SAAOA,KAAK,GAAG,CAAf;AACH,CAHD;;AAKA,MAAMM,OAAO,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBV,YAAyB;AAAA,MAAXW,MAAW;;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKf,MAAL;AACM,aAAQc,MAAM,CAACE,OAAf;;AAMJ,SAAKrB,KAAL;AACI,aAAO,CACH,GAAGkB,KADA,EAEH;AACIF,QAAAA,EAAE,EAAEP,UAAU,CAACS,KAAD,CADlB;AAEII,QAAAA,IAAI,EAAEH,MAAM,CAACE,OAFjB;AAGIE,QAAAA,SAAS,EAAE;AAHf,OAFG,CAAP;;AASJ,SAAKjB,OAAL;AACI,aAAOY,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,YAAIA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAAvB,EAAgC;AAC5B,iBAAOR,IAAP;AACH;;AAED,eAAO,EACH,GAAGA,IADA;AAEHU,UAAAA,SAAS,EAAE,CAACV,IAAI,CAACU;AAFd,SAAP;AAIH,OATM,CAAP;;AAWJ,SAAKpB,aAAL;AACI,YAAM;AAAEsB,QAAAA,MAAF;AAAUC,QAAAA;AAAV,UAAoBP,MAAM,CAACE,OAAjC;AACA,aAAOH,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,YAAIA,IAAI,CAACG,EAAL,KAAYS,MAAhB,EAAwB;AACpB,iBAAOZ,IAAP;AACH;;AACD,eAAO,EACH,GAAGA,IADA;AAEHa,UAAAA,KAAK,EAAEA;AAFJ,SAAP;AAIH,OARM,CAAP;;AASJ,SAAKnB,WAAL;AAEI,aAAOW,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACpB,cAAM;AAAEY,UAAAA,MAAF;AAAUE,UAAAA;AAAV,YAAwBR,MAAM,CAACE,OAArC;;AACH,YAAIR,IAAI,CAACG,EAAL,KAAYS,MAAhB,EAAyB;AACtB,iBAAOZ,IAAP;AACF;;AAAA;AAGD,eAAO,EACH,GAAGA,IADA;AAEHS,UAAAA,IAAI,EAACK;AAFF,SAAP;AAKH,OAZM,CAAP;;AAgBJ,SAAKvB,OAAL;AACI,aAAOc,KAAK,CAACU,MAAN,CAAcf,IAAD,IAAUA,IAAI,CAACG,EAAL,KAAYG,MAAM,CAACE,OAA1C,CAAP;;AAEJ,SAAKpB,YAAL;AACI,aAAOiB,KAAK,CAACM,GAAN,CAAWX,IAAD,IAAU;AACvB,eAAO,EACH,GAAGA,IADA;AAEHU,UAAAA,SAAS,EAAE;AAFR,SAAP;AAIH,OALM,CAAP;;AAOJ,SAAKrB,cAAL;AACI,aAAOgB,KAAK,CAACU,MAAN,CAAcf,IAAD,IAAU,CAACA,IAAI,CAACU,SAA7B,CAAP;;AAKJ;AACI,aAAOL,KAAP;AA7ER;AA+EH,CAhFD;;AAkFA,eAAeD,OAAf","sourcesContent":["import {\n    ADDED,\n    ALLCOMPLETED,\n    CLEARCOMPLETED,\n    COLORSELECTED,\n    DELETED,\n     \n    LOADED,\n     \n    TOGGLED,\n    UPDATETITLE,\n} from \"./actionTypes\";\nimport initialState from \"./initialState\";\n\nconst nextTodoId = (todos) => {\n    const maxId = todos.reduce((maxId, todo) => Math.max(todo.id, maxId), -1);\n    return maxId + 1;\n};\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n      case LOADED:\n            return  action.payload\n                \n          \n                \n            \n\n        case ADDED:\n            return [\n                ...state,\n                {\n                    id: nextTodoId(state),\n                    text: action.payload,\n                    completed: false,\n                },\n            ];\n\n        case TOGGLED:\n            return state.map((todo) => {\n                if (todo.id !== action.payload) {\n                    return todo;\n                }\n\n                return {\n                    ...todo,\n                    completed: !todo.completed,\n                };\n            });\n\n        case COLORSELECTED:\n            const { todoId, color } = action.payload;\n            return state.map((todo) => {\n                if (todo.id !== todoId) {\n                    return todo;\n                }\n                return {\n                    ...todo,\n                    color: color,\n                };\n            });\n        case UPDATETITLE:\n             \n            return state.map((todo) => {\n                   const { todoId, titleText } = action.payload;\n                if (todo.id === todoId ) {\n                   return todo\n                };\n                \n                \n                return {\n                    ...todo,\n                    text:titleText\n                }\n               \n            });\n\n            \n\n        case DELETED:\n            return state.filter((todo) => todo.id !== action.payload);\n\n        case ALLCOMPLETED:\n            return state.map((todo) => {\n                return {\n                    ...todo,\n                    completed: true,\n                };\n            });\n\n        case CLEARCOMPLETED:\n            return state.filter((todo) => !todo.completed);\n\n\n            \n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}